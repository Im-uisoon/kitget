import{r,k as b,c as i,b as h,d as e,_ as g,m as d,l as f,v as c,n as y,t as _,F as k,u as w,a as C,h as m}from"./index-BAdsKqPu.js";const V={class:"mx-10"},B={class:"max-w-lg mx-auto mt-10"},N=["disabled"],D={key:0,class:"text-red-600 mt-2"},U={__name:"Write",setup(E){const u=w(),a=r(""),s=r(""),l=r(""),o=b(()=>a.value.trim().length>0&&s.value.trim().length>0),p=async()=>{if(l.value="",!!o.value)try{await C.post("tender-hally-imuisoon-0eaa6cd0.koyeb.app/api/notice",{title:a.value,content:s.value},{withCredentials:!0}),u.push("/notice")}catch{l.value="글 등록에 실패했습니다. (권한이 없거나 세션이 만료되었습니다)"}},x=()=>{u.push("/notice")};return(v,t)=>(m(),i(k,null,[h(g),e("section",V,[e("div",B,[e("div",{class:"flex items-center mb-3"},[e("button",{onClick:x,class:"text-blue-600 font-medium"},t[2]||(t[2]=[e("span",{class:"text-xl mr-5"},"←",-1)])),t[3]||(t[3]=e("h2",{class:"text-xl font-bold"},"공지 작성",-1))]),d(e("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>a.value=n),placeholder:"제목",class:"border rounded px-3 py-2 w-full mb-3",maxlength:"100"},null,512),[[c,a.value]]),d(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=n=>s.value=n),placeholder:"내용",class:"border rounded px-3 py-2 w-full mb-3 min-h-[120px]",maxlength:"2000"},null,512),[[c,s.value]]),e("button",{onClick:p,disabled:!o.value,class:y(["px-5 py-2 rounded font-bold transition-colors duration-200",o.value?"bg-blue-500 text-white cursor-pointer hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"])},"등록",10,N),l.value?(m(),i("div",D,_(l.value),1)):f("",!0)])])],64))}};export{U as default};
