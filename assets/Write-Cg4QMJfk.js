import{r,k as b,c as i,b as h,d as t,_ as g,m as d,l as f,v as c,n as _,t as y,F as w,u as k,a as C,h as m}from"./index-BbPDkcZf.js";const V={class:"mx-10"},B={class:"max-w-lg mx-auto mt-10"},N=["disabled"],D={key:0,class:"text-red-600 mt-2"},U={__name:"Write",setup(E){const u=k(),s=r(""),a=r(""),l=r(""),o=b(()=>s.value.trim().length>0&&a.value.trim().length>0),p=async()=>{if(l.value="",!!o.value)try{await C.post("http://localhost:8080/api/notice",{title:s.value,content:a.value},{withCredentials:!0}),u.push("/notice")}catch{l.value="글 등록에 실패했습니다. (권한이 없거나 세션이 만료되었습니다)"}},x=()=>{u.push("/notice")};return(v,e)=>(m(),i(w,null,[h(g),t("section",V,[t("div",B,[t("div",{class:"flex items-center mb-3"},[t("button",{onClick:x,class:"text-blue-600 font-medium"},e[2]||(e[2]=[t("span",{class:"text-xl mr-5"},"←",-1)])),e[3]||(e[3]=t("h2",{class:"text-xl font-bold"},"공지 작성",-1))]),d(t("input",{"onUpdate:modelValue":e[0]||(e[0]=n=>s.value=n),placeholder:"제목",class:"border rounded px-3 py-2 w-full mb-3",maxlength:"100"},null,512),[[c,s.value]]),d(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=n=>a.value=n),placeholder:"내용",class:"border rounded px-3 py-2 w-full mb-3 min-h-[120px]",maxlength:"2000"},null,512),[[c,a.value]]),t("button",{onClick:p,disabled:!o.value,class:_(["px-5 py-2 rounded font-bold transition-colors duration-200",o.value?"bg-blue-500 text-white cursor-pointer hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"])},"등록",10,N),l.value?(m(),i("div",D,y(l.value),1)):f("",!0)])])],64))}};export{U as default};
